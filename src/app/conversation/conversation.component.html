<!-- Set an animated css class based on the boolean shake -->
<div class="convContainer blue accent-5" [ngClass]="{ shaker: shake }">
  <br />
  <!-- 
  <div>
    <p>
      Angular pipe: Translates content into a target format
      {{ friend | json }}
    </p>

    <p>
      Format a number with minimum 2 decimal places and maximum 5 decimal places 
      {{ score | number: "1.2-5" }}
    </p>

    <p>
      Format a date with a DD/MM/YYYY format 
      Today is: {{ today | date: "dd/MM/yyyy" }} Time:
      {{ today | date: "fullTime" }}
    </p>
  </div>
  -->
  <div class="blue accent-4 row">
    <br />
    <div class=" maincontent col s9 ">
      <div *ngIf="friend != null" class="col s12 l12 m12 center">
        <img
          id="user-status"
          [src]="'assets/img/logo_live_' + friend.status + '.png'"
        />{{ friend.nick }}
      </div>
      <div class="blue lighten-3">
        <br />
        <div id="chathistory" class="messageGroup">
          <ng-container *ngFor="let m of conversationLog">
            <div *ngIf="m.type != 'buzz'">
              <br />
              <b>{{ getUserNickById(m.sender) }}</b> dice: <br />
              <span>{{ m.text }}</span>
            </div>
          </ng-container>
        </div>
        <div class="input-field col s12 blue lighten-4">
          <div class="row messagecontainer">
            <!-- The event in the textarea will be triggered when the Enter Key is pressed and released -->
            <textarea
              [(ngModel)]="message"
              (keyup.enter)="sendMessage()"
              id="messagefield"
              class="materialize-textarea col s9"
            >
            </textarea>
            <label for="messagefield"></label>
            <button
              class="btn-large waves-effect waves-light  light-blue darken-4 col s3  submitbutton"
              type="submit"
              name="action"
              (click)="sendMessage()"
            >
              Enviar
              <i class="material-icons center">send</i>
            </button>
            <button
              class="btn-large waves-effect waves-light  light-blue darken-1 col s3  submitbutton"
              type="submit"
              name="action"
              (click)="sendBuzz()"
            >
              Zumbido
              <i class="material-icons center">room_service</i>
            </button>
          </div>
        </div>
      </div>
    </div>
    <div
      *ngIf="friend != null"
      class=" maincontent col s3 m3 l3 blue accent-4 section"
    >
      <div class="section">
        <img
          class="responsive-img square avatarFrameOnLine"
          [src]="
            friend.avatar || 'assets/img/logo_live_' + myuser.status + '.png'
          "
          id="friendAvatarPicture"
        />
      </div>

      <div class="section">
        <br />
        <br />
        <br />
        <br />
        <br />
      </div>
      <div class="section">
        <img
          class="responsive-img square avatarFrameOnLine"
          [src]="
            myuser.avatar || 'assets/img/logo_live_' + myuser.status + '.png'
          "
          id="homeAvatarPicture"
        />
      </div>
    </div>
  </div>

  <br />
  <br />
  <br />
</div>
